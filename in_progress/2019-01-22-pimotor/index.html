<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v6.6.1 <https://qwtel.com/hydejack/>
-->









<head>
  
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="format-detection" content="telephone=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">




  <title>Riddle: Surviving on Mars &middot; Bart Timmer</title>



<meta name="description" content="Interests, projects, and nonsense.
">




<link rel="canonical" href="https://denzilly.github.io/in_progress/2019-01-22-pimotor/">

<link rel="alternate" type="application/atom+xml" title="Bart Timmer Feed" href="https://denzilly.github.io/feed.xml">





<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<!-- Place favicon.ico in the root directory -->


<link id="_katexJS"  rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.js">
<link id="_katexCSS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.css">


<!--[if gt IE 8]><!---->


<script>
  WebFontConfig = {
    
    google: {
      families: 'Roboto+Slab:700,400,400i,700,700i'.split('|')
    },
    

    custom: {
      families: ['icomoon'],
      urls: ['/assets/icomoon/style.css']
    }
  };
</script>
<!--<![endif]-->

<script>
  !function(n,e){function t(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function o(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}n._loaded=!1,n.loadJSDeferred=function(a,d){function r(){n._loaded=!0;var r=e.createElement("script");r.src=a,d&&(("onload"in r?t:o)(r,d),r.onload||t(r,d));var l=e.getElementsByTagName("script")[0];l.parentNode.insertBefore(r,l)}n._loaded?r():n.addEventListener?n.addEventListener("load",r,!1):n.attachEvent?n.attachEvent("onload",r):n.onload=r}}(window,document);

  !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);

  !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);

  window.disablePushState = false;
  window.disableDrawer = false;
</script>

<!--[if lt IE 9]>
<script src="/assets/bower_components/html5shiv/dist/html5shiv.min.js"></script>
<![endif]-->


<!--[if gt IE 8]><!---->
<style>
  
  article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}*{box-sizing:border-box}html,body{margin:0;padding:0}html{font-size:16px;line-height:1.75}body{color:#333;background-color:#fff;overflow-y:scroll}a{text-decoration:none}.lead{margin-left:-1rem;margin-right:-1rem}img,.img{display:block;max-width:100%;margin-bottom:1rem;border:none}img.lead,.img.lead{max-width:calc(100% + 2rem);width:calc(100% + 2rem)}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6,.heading{font-weight:bold;text-rendering:optimizeLegibility}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6{margin:3rem 0 1rem;line-height:1.6}h1,.h1{font-size:2rem;line-height:1.25}h2,.h2{font-size:1.5rem}h3,.h3{font-size:1.17em}p{margin-top:0;margin-bottom:1rem}p.lead{font-size:1.25rem;font-weight:300;padding:0 1rem}ul,ol,dl{margin-top:0;margin-bottom:1rem}ul,ol{padding-left:1.25rem}hr{position:relative;margin:1.5rem 0;border:0;border-top:1px solid #eee}.hr{padding-bottom:.5rem;border-bottom:1px solid #eee;margin-bottom:1.5rem}h4,h5,h6,.h4,.h5,.h6{margin-bottom:0.5rem;font-size:1rem}table{margin-bottom:1rem;width:100%;width:calc(100% + 2rem);margin-left:-1rem;border:1px solid #e5e5e5;border-collapse:collapse;border-spacing:0}td,th{padding:.25rem .5rem;border:1px solid #e5e5e5}td:first-child,th:first-child{padding-left:1rem}td:last-child,th:last-child{padding-right:1rem}thead+tbody,tbody+tbody,tfoot{border-top:3px double #e5e5e5}tbody tr:nth-child(odd) td,tbody tr:nth-child(odd) th{background-color:#f9f9f9}footer{margin-bottom:2rem}.page,.post{margin-bottom:3em}.page li+li,.post li+li{margin-top:.25rem}.page>header,.post>header{margin-bottom:2rem}.page-title,.post-title{margin-top:0}.post-date{display:block;margin-top:-0.5rem;margin-bottom:1rem;color:#9a9a9a}.related-posts{padding-left:0;list-style:none}.related-posts>li,.related-posts>li+li{margin-top:1rem}.related-posts>li>small,.related-posts>li+li>small{font-size:75%;color:#9a9a9a}.message{margin-bottom:1rem;padding:1rem;color:#787878;background-color:#f9f9f9;margin-left:-1rem;margin-right:-1rem}body,main{position:relative;overflow-x:hidden}@media screen{body::before{content:'';width:.5rem;background:#e5e5e5;position:absolute;left:0;top:0;bottom:0}}@media screen and (min-width: 40em){html{font-size:17px}}@media screen and (min-width: 54em){html{font-size:16px}}@media screen and (min-width: 72em){html{font-size:17px}}@media screen and (min-width: 125em){html{font-size:18px}}.sr-only{display:none}.clearfix,.sidebar-social::after,.clearafter::after{content:"";display:table;clear:both}a,.a{position:relative;padding-bottom:.15rem;border-bottom:1px solid}.img{overflow:hidden;background-color:#f9f9f9}.img>img{margin:0;width:100%;height:100%}.sixteen-nine{position:relative}.sixteen-nine::before{display:block;content:"";width:100%;padding-top:56.25%}.sixteen-nine>*{position:absolute;top:0;left:0;right:0;bottom:0}h1+hr,h2+hr,h3+hr,h4+hr,h5+hr,h6+hr{margin-top:0}.fade-in{animation-duration:500ms;animation-name:fade-in;animation-fill-mode:forwards}@keyframes fade-in{from{transform:translateY(-2rem);opacity:0}50%{transform:translateY(-2rem);opacity:0}to{transform:translateY(0);opacity:1}}.mb6{margin-bottom:6rem}.sidebar{color:rgba(255,255,255,0.75);text-align:left}.sidebar::before{content:"";position:absolute;z-index:2;top:0;left:0;bottom:0;right:0;background:linear-gradient(to bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%)}.sidebar a{color:#fff;border-bottom-color:rgba(255,255,255,0.2)}#_yDrawer{position:relative;padding:1rem 0}@media screen{#_yDrawer{padding:2rem 1rem;min-height:640px;min-height:100vh}}@media screen and (min-width: 54em){#_yDrawer{position:fixed;top:0;left:0;bottom:0;width:18rem;margin-left:0}}@media screen and (min-width: 97.5em){#_yDrawer{width:calc(50% - 28rem)}}@media screen{#_yDrawer.loaded{min-height:0;padding:0}}.sidebar-bg{position:absolute;top:0;right:0;bottom:0;left:0;background:#202020 center / cover}.sidebar-sticky{position:relative;z-index:3}@media screen{.sidebar-sticky{position:absolute;right:2rem;bottom:1rem;left:auto;max-width:14rem}}@media print{.sidebar-sticky{padding:0 2rem}}.sidebar-about>h1{color:#fff;font-size:2rem}.sidebar-nav>ul{list-style:none;padding-left:0;margin-bottom:.5rem}a.sidebar-nav-item{font-weight:bold;display:block;line-height:1.75;padding:.25rem 0;border-bottom:1px solid rgba(255,255,255,0.2)}@media screen{.y-drawer-scrim{z-index:2}.y-drawer-content{width:18rem;left:-17.5rem;z-index:3}}@media screen and (min-width: 97.5em){.y-drawer-content{width:calc(50% - 28rem)}}.sidebar-social{margin-bottom:.5rem}.sidebar-social>ul{list-style:none;padding-left:0;margin:0 -.25rem}.sidebar-social>ul>li{float:left;margin:0 .25rem}.sidebar-social>ul>li>a{display:inline-block;text-align:center;font-size:1.6rem;line-height:3rem;width:3.1249rem;height:4rem;padding:.5rem 0}.sidebar-social>ul li+li{margin-top:0}.fixed-top{position:fixed;top:0;left:0;width:100%;z-index:1}.navbar>.content{padding-top:0;padding-bottom:0;min-height:0;height:0}.menu{display:inline-block;padding:1.75rem 1.5rem;border-bottom:none;margin-left:-1.5rem;color:#9a9a9a !important}.menu::after{content:"\2630"}@media screen and (min-width: 54em){.menu{padding:1.25rem 1.5rem;position:absolute;left:-9999px}.menu:focus{position:static}}.animation-main{pointer-events:none}.loading{display:none}@media print{.menu{display:none}}.animation-main{opacity:0;will-change:opacity}.loading{position:absolute;top:0;right:0;padding:5.25rem 4.5rem;transform-origin:top right;transform:scale(0.33)}.content{position:relative;margin-left:auto;margin-right:auto;padding:5rem 1rem 12rem}@media screen{.content{max-width:38rem;padding-left:1.5rem;min-height:100vh}}@media screen and (min-width: 54em){.content{max-width:42rem;padding:4rem 1rem 12rem;margin-left:22rem;margin-right:4rem}}@media screen and (min-width: 72em){.content{margin-left:22rem;margin-right:4rem}}@media screen and (min-width: 92em){.content{max-width:48rem}}@media screen and (min-width: 97.5em){.content{margin:auto}}.me{float:right;width:6.5rem;height:6.5rem;margin-left:1rem;margin-bottom:.5rem;border-radius:100%;position:relative}@media screen and (min-width: 40em){.me{width:7rem;height:7rem}}@media screen and (min-width: 54em){.me{width:6.5rem;height:6.5rem}}@media screen and (min-width: 60em){.me{width:7rem;height:7rem}}main>footer{position:absolute;bottom:0;left:0;right:0;padding:0 1rem;color:#9a9a9a;font-size:smaller;text-align:center}main>footer>p{margin-bottom:0}html{font-family:Helvetica, Arial, sans-serif}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6,.heading{font-family:Helvetica, Arial, sans-serif}

</style>


<link id="_stylePreload" rel="preload" as="style" href="/assets/css/hydejack.css?v=6.6.1">
<script>document.getElementById('_stylePreload').onload=function(){this.rel='stylesheet'}</script>

<!-- NOTE: These styles interact with JavsScript, so they MUST NOT be changed -->
<style id="_pageStyle">

.content a{color:#268bd2;border-color:rgba(38,139,210,0.2)}.content a:hover{border-color:#268bd2}:focus{outline-color:#268bd2}::selection{color:#fff;background:#268bd2}::-moz-selection{color:#fff;background:#268bd2}

</style>


<noscript>
  <link rel="stylesheet" href="/assets/css/hydejack.css?v=6.6.1">

  
  
  

  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700,400,400i,700,700i">
    <style>
      html { font-family: 'Noto Sans', Helvetica, Arial, sans-serif }
      h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: 'Roboto Slab', Helvetica, Arial, sans-serif }
    </style>
  

  
  <link rel="stylesheet" href="/assets/icomoon/style.css">
</noscript>
<!--<![endif]-->






<!--[if gt IE 8]><!---->
<script async src="/assets/bower_components/webfontloader/webfontloader.js"></script>
<!--<![endif]-->

</head>

<body>
  
<div class="navbar fixed-top">
  <div class="content">
    <span class="sr-only">Jump to:</span>
    <a id="_menu" class="menu no-hover" href="#_title">
      <span class="sr-only">Menu</span>
    </a>
  </div>
</div>


<div id="_yPushState">
  <div class="fade-in">
    <main id="_main" class="content" role="main" data-color="#268bd2" data-image="data:image/gif;base64,R0lGODlhAQABAPAAACAgIP///yH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==">
      

<article id="post-" class="post" role="article">
  <header>
    <h1 class="post-title">
      
        Riddle: Surviving on Mars
      
    </h1>

    <p class="post-date heading">
      <time datetime=""></time>
      











      









on <span>Programming</span>

    </p>

    
  <div class="hr" style="padding-bottom:0"></div>


  </header>

  
    ![martian](https://i.imgur.com/4npodS6.jpg)
{: align="middle"}
*All my makerbots are broken*
{: style="color: gray; font-size: 80%; text-align: center;"}
This is a solution attempt to a riddle originally posted on [FiveThirtyEight](https://FiveThirtyEight.com) [here](https://fivethirtyeight.com/features/in-space-no-one-can-hear-your-3d-printer-die/). I recently discovered their weekly "riddlers", and really enjoyed trying to figure this one out!

### The Premise

You are an astronaut, trying to survive on Mars until you are relieved by the next crew in 5 years time (1,825 earth days, excluding leap years).

You live in a habitation pod that has a series of critical life support components, as well as 3 3D printers to manufacture parts and additional supplies that you might need. The life support infrastructure is essential in providing you with food, water, and breathable atmosphere.

Your 3D printers help you to fabricate parts, should the life support equipment break down. They can also be used to make parts for eachother, should one of the printers break down. You cannot scavenge them for parts, as they are made by different manufacturers; thus printing is your only option. Each 3D printer can make **(1)** part per day


One part of your critical life support systems is guaranteed to fail **daily**, requiring a 3D printer to spend a day replacing said part.   

Your 3D printers have fixed probabilities to fail on a given day, requiring a new part:
- Printer 1 : 10%
- Printer 2 : 7.5%
- Printer 3 : 5%


*What is the probability that you will survive the full 1,825 days?*

### Solution attempt

There are two ways to solve this problem--theoretically or empirically. I opted for the latter because I thought it might be more interesting to brute force my way to a probability of survival by modeling the situation programatically.

I decided to structure everything around a daily cycle, under certain assumptions.

- We check whether or not the printers are functional every morning (first for loop)

- Based on the newly determined printer status, we try to fix broken printers if possible.

- We cannot pre-fabricate parts, as we are not given details on how many parts each machine contains etc.

This leaves us with two for loops, as seen in the code block below (within the while loop).

~~~py
import random
import matplotlib.pyplot as plt
import matplotlib
import numpy as np


#Probablilities

p1break = 0.1
p2break = 0.075
p3break = 0.05



#One day
def survive():

    #Printer status
    status = [1,1,1]
    #Probabilities out of 1000 to use integers
    probs = [p1break*1000, p2break*1000, p3break*1000]
    days = 0


    while True:

        #Check machine status on given day, if working
        for idx,val in enumerate(status):
            if val == 1:
                if (random.randint(1,1000) <= probs[idx]):
                    status[idx] = 0

        #If machine is broken, test if it can be fixed
        for idx,val in enumerate(status):
            if val == 0:

            #Count how many of the other machines are working
                working = 0
                for x in status:
                    working = working + x
                #No machines working, you' dead sucka
                if working == 0:
                    return days
                #2 Machines working, you can be fixed!
                if working == 2:
                    status[idx] = 1
        days = days + 1
~~~

The while loop runs the survive function until, well, you're no longer surviving. The first loop checks the status of each printer, which is previously initialised at 1. Using probabilities out of 1000 (to maintain integer values), the script calls a random number between 1-1000. If this value falls below the pre-specified probability level, the printer is considered broken and its status is set to 0.

The second loop determines what we can potentially do with any broken printers. There are 3 cases:

1. All 3 printers are broken, working == 0. You can't replace life support parts and are therefore dead. The return statement here breaks the while loop, and returns the total number of days that you survived.

2. 2 printers are broken, working == 1. Your remaining machine is dedicated to fixing life support, and cannot be used to repair the other printers. You are waiting, hoping that this lone printer will last you the 5 years. This case is not coded, because it is handled by the first loop.
3. 1 printer is broken, working == 2. You have 2 operational printers, of which one will be dedicated to life support parts, and the second can be used to restore your broken printer.

Finally, a day is added to the counter.

That's basically it!  

The following block runs the program for as many iterations as necessary to determine an appropriate survival probability, noting down the number of days survived in each instance.
In the end, it reports the average number of days survived, number of times you made it to 5 years, as well as estimated probability of survival.

~~~py
#This block runs survive() multiple times and tallies the results
count = 0
avgdays = 0
survival = 0
days = []
iterations = 100000

while(count < iterations):
    surviveddays = survive()
    avgdays = avgdays + surviveddays
    days.append(surviveddays)
    count = count + 1
    if surviveddays >= 1825:
        survival = survival + 1
print ("You survived on average %s days after %s iterations" % ((avgdays/iterations),(iterations)))
print ("Number of times survived = %s" % survival)
print ("Your survival probability is %s%%" % ((survival/iterations)*100))

~~~

I found that with 1 million iterations, I tend to survive on average just 78 days and change, nowhere close!
~~~py
You survived on average 78.881304 days after 1000000 iterations
Number of times survived = 0
Your survival probability is 0.0%
~~~

![histogram](https://i.imgur.com/ka7WXeU.png)
{: align="middle"}
*Bleak*
{: style="color: gray; font-size: 80%; text-align: center;"}

The histogram provides illustrative context to our lack of hope, clearly showing that we are more than pretty unlikely to keep our pod running long enough.

Theoretically speaking however, there must be a chance that we survive this ordeal...







For the full code, as well as a snippet to generate a histogram, see my [github page](https://github.com/denzilly/riddles).

  

</article>


  <hr class="dingbat" />






  <aside class="author" role="complementary">
    <div class="author">
  
    
  

  

  <img
    src="/assets/img/me.png"
    class="me"
    alt="Bart Timmer"
    srcset="/assets/img/me.png 1x,/assets/img/me.png 2x"
    
  />


  

  <h2 class="page-title hr">
    About
  </h2>

  <p>I am a 25 year old economics student, and hobbyist in many things. This page documents some of my projects, activities
and things I generally find interesting to write about. If you have any questions or inquiries, feel free to email me.</p>


  
    <div class="sidebar-social">
      <span class="sr-only">Social:</span>
<ul>
  
    













<li>
  <a href="https://github.com/denzilly" title="GitHub">
    <span class="icon-github"></span>
    <span class="sr-only">GitHub</span>
  </a>
</li>

  
    













<li>
  <a href="mailto:btimmer313@gmail.com" title="Email">
    <span class="icon-mail"></span>
    <span class="sr-only">Email</span>
  </a>
</li>

  

  

  
</ul>

    </div>
  
</div>

  </aside>





<aside class="related" role="complementary">
  <h2 class="hr">Related Posts</h2>

  <ul class="related-posts">
    
      
    
  </ul>
</aside>



      

      <footer>
  <hr/>
  
    <p>© Bart Timmer 2019. All rights reserved.</p>

  
  <p>
    <code>Powered by <a href="https://qwtel.com/hydejack/">Hydejack</a> v<span id="_version">6.6.1</span></code>
  </p>
</footer>

    </main>
  </div>
  <div id="_yDrawer">
  <div id="_sidebar" class="sidebar">
    <div class="sidebar-bg" style="background-color:#268bd2;background-image:url(data:image/gif;base64,R0lGODlhAQABAPAAACAgIP///yH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==)"></div>
    <header class="sidebar-sticky" role="banner">
      <div class="sidebar-about">
        <h1><a id="_title" href="/">Bart Timmer</a></h1>
        <p>Interests, projects, and nonsense.</p>

      </div>

      <nav class="sidebar-nav heading" role="navigation">
        <span class="sr-only">Navigation:</span>
<ul>
  

  

  

  
    <li>
      <a class="sidebar-nav-item" href="/blog/">Blog</a>
    </li>
  
    <li>
      <a class="sidebar-nav-item" href="/projects/">Projects</a>
    </li>
  
    <li>
      <a class="sidebar-nav-item" href="/recipes/">Recipes</a>
    </li>
  
    <li>
      <a class="sidebar-nav-item" href="/about/">About</a>
    </li>
  
</ul>

      </nav>

      

      
        <div class="sidebar-social">
          <span class="sr-only">Social:</span>
<ul>
  
    













<li>
  <a href="https://github.com/denzilly" title="GitHub">
    <span class="icon-github"></span>
    <span class="sr-only">GitHub</span>
  </a>
</li>

  
    













<li>
  <a href="mailto:btimmer313@gmail.com" title="Email">
    <span class="icon-mail"></span>
    <span class="sr-only">Email</span>
  </a>
</li>

  

  

  
</ul>

        </div>
      
    </header>
  </div>
</div>

</div>



<script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', '<UA-XXXXXXXX-X>', 'auto');
  ga('send', 'pageview');
  loadJSDeferred('https://www.google-analytics.com/analytics.js');
</script>



  <!--[if gt IE 9]><!---->
  
  <script>loadJSDeferred('/assets/js/hydejack.js?v=6.6.1');</script>

  

  <!--<![endif]-->



</body>

</html>
